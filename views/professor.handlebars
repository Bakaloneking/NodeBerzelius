{{! Arquivo: views/dashboard_professor.handlebars }}
{{#section 'styles'}}
    <link rel="stylesheet" href="/css/bUser.css">
{{/section}}

<style>
    /* Estilos para a tabela de horários e cartões de ação */
    .schedule-table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 0.9em; }
    .schedule-table th, .schedule-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
    .schedule-table th { background-color: #0056b3; color: white; }
    .action-cards { display: flex; gap: 20px; margin-top: 20px; }
    .action-card { background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 20px; text-align: center; flex: 1; }
    .action-card a { text-decoration: none; color: #0056b3; font-weight: bold; }
    .action-card p { color: #666; font-size: 0.9em; }
</style>

<section id="corpo">
    <aside>
        <div class="user-card">
            {{! A foto pode ser dinâmica no futuro, se você adicionar um campo no banco }}
            <img src="/img/professor-avatar.png" alt="Foto do Professor" class="user-photo">
            <div class="user-info">
                {{! A variável 'user' vem do nosso middleware global }}
                <h2 class="user-name">{{user.nome}}</h2>
                <p class="user-bio">Professor</p>
            </div>
        </div>
    </aside>

    <article id="conteudo">
        <h1>Meu Painel de Gerenciamento</h1>

        <div class="action-cards">
            <div class="action-card">
                <h3>Agendar Aula</h3>
                <p>Cadastre uma nova aula prática para suas turmas.</p>
                <a href="/cadAulas">Ir para Agendamento &rarr;</a>
            </div>
            <div class="action-card">
                <h3>Ver Relatórios</h3>
                <p>Consulte o histórico de aulas e outros relatórios.</p>
                <a href="/relatorioAulas">Ver Relatórios &rarr;</a>
            </div>
        </div>

        <hr style="margin: 30px 0;">

        <h2>Minhas Aulas na Semana</h2>
        {{#if horarios.length}}
            <table class="schedule-table">
                <thead>
                <tr>
                    <th>Dia da Semana</th>
                    <th>Horário</th>
                    <th>Disciplina</th>
                    <th>Turma</th>
                    <th>Laboratório</th>
                </tr>
                </thead>
                <tbody>
                {{#each horarios}}
                    <tr>
                        <td>
                            {{#if (eq this.ht_dia_semana 1)}}Segunda-feira{{/if}}
                            {{#if (eq this.ht_dia_semana 2)}}Terça-feira{{/if}}
                            {{#if (eq this.ht_dia_semana 3)}}Quarta-feira{{/if}}
                            {{#if (eq this.ht_dia_semana 4)}}Quinta-feira{{/if}}
                            {{#if (eq this.ht_dia_semana 5)}}Sexta-feira{{/if}}
                        </td>
                        <td>{{this.Horario}}</td>
                        <td>{{this.Disciplina}}</td>
                        <td>{{this.Turma}}</td>
                        <td>{{this.Laboratorio}}</td>
                    </tr>
                {{/each}}
                </tbody>
            </table>
        {{else}}
            <p>Você ainda não tem aulas alocadas na grade de horários.</p>
        {{/if}}
    </article>
</section>